<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dejar un Comentario</title>
</head>
<body>
    <h2>Deja tu comentario</h2>
    <form id="commentForm">
        <label for="name">Nombre:</label>
        <input type="text" id="name" required><br><br>

        <label for="message">Mensaje:</label>
        <textarea id="message" required></textarea><br><br>

        <label for="rating">Valoración:</label>
        <select id="rating" required>
            <option value="5">5 estrellas</option>
            <option value="4">4 estrellas</option>
            <option value="3">3 estrellas</option>
            <option value="2">2 estrellas</option>
            <option value="1">1 estrella</option>
        </select><br><br>

        <button type="submit">Enviar Comentario</button>
    </form>

    <h3>Comentarios</h3>
    <div id="commentsSection">
        <!-- Aquí aparecerán los comentarios -->
    </div>

    <script>
        // Función para mostrar los comentarios guardados en LocalStorage
        function loadComments() {
            const comments = JSON.parse(localStorage.getItem('comments')) || [];
            comments.forEach(comment => {
                displayComment(comment.name, comment.message, comment.rating);
            });
        }

        // Función para mostrar un comentario en la página
        function displayComment(name, message, rating) {
            const commentDiv = document.createElement('div');
            commentDiv.classList.add('comment');
            commentDiv.innerHTML = `
                <h4>${name} (${rating} estrellas)</h4>
                <p>${message}</p>
                <hr>
            `;
            document.getElementById('commentsSection').appendChild(commentDiv);
        }

        // Cargar comentarios al cargar la página
        loadComments();

        // Manejar el envío del formulario
        document.getElementById('commentForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Evita que se envíe el formulario de manera tradicional

            // Obtener los valores del formulario
            var name = document.getElementById('name').value;
            var message = document.getElementById('message').value;
            var rating = document.getElementById('rating').value;

            // Guardar el comentario en LocalStorage
            const comments = JSON.parse(localStorage.getItem('comments')) || [];
            const newComment = { name, message, rating };
            comments.push(newComment);
            localStorage.setItem('comments', JSON.stringify(comments));

            // Mostrar el nuevo comentario en la página
            displayComment(name, message, rating);

            // Limpiar el formulario después de enviar el comentario
            document.getElementById('commentForm').reset();
        });
    </script>
</body>
</html>
